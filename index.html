<!DOCTYPE html>
<html>
  <body style="background-color: #282828;">
    <h1 style="text-align: center; color: white; font-family: sans-serif;">Simple YouTube Music Player</h1>
    <div class="search" style="width: 640px; margin-left: -320px; margin-top: 25px; position: fixed; left: 50%; display: inline-block;">
        <input id="search_bar" type="text" placeholder="Enter playlist url" style="height: 30px; width: 80%; float: left; font-size: 20px;"></input>
        <button id="search_button" onclick="searchVideo()" style="height: 36px; width: 15%; float: left; font-size: 20px; cursor: pointer;">Search</button>
    </div>
    <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
    <div id="player" style="position: fixed; top: 50%; left: 50%; margin-top: -292px; margin-left: -480px;"></div>

    <script>
      // 2. This code loads the IFrame Player API code asynchronously.
      var tag = document.createElement('script');

      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      function onPlayerReady(event) {
        event.target.playVideo();
      }

      var done = false;
      var player;
      function onPlayerStateChange(event) {
      }
      function stopVideo() {
        player.stopVideo();
      }
      function searchVideo() {
        var input;
        var listId;
        var p = "list=";
        input = document.getElementById('search_bar').value;
        if(player != undefined){
            player.destroy();
        }
        if(input.indexOf(p)>=0){
            listId = input.substring(input.indexOf(p) + 5, input.indexOf(p) + 39);
        }
        play(listId);
      }
      function play(listId){
        console.log(listId);
        var numPl = Math.floor((Math.random() * 50) + 1);
        player = new YT.Player("player", {
                height: '585',
                width: '960',
                playerVars: {
                    listType:'playlist',
                    list: listId,
                    index: numPl,
                    autoplay: 1,
                },
                events: {
                    'onReady': function (event) {
                        setTimeout(function() {
                            event.target.setShuffle({'shufflePlaylist' : true});
                        }, 1000);
                    }
                }
            });
      }
    </script>
  </body>
</html>